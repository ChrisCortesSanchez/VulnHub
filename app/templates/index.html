{% extends "base.html" %}

{% block title %}Home - VulnHub E-commerce{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg p-12 mb-8 text-white">
    <h1 class="text-5xl font-bold mb-4">Welcome to VulnHub Shop</h1>
    <p class="text-xl mb-6">Intentionally vulnerable e-commerce platform for security testing</p>
    <a href="{{ url_for('products') }}" class="bg-white text-blue-600 px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition inline-block">
        Browse Products â†’
    </a>
</div>

<!-- Featured Products -->
<div class="mb-8">
    <h2 class="text-3xl font-bold mb-6">Featured Products</h2>
    
    {% if products %}
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            {% for product in products %}
                <div class="bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition">
                    <!-- Product Image Placeholder -->
                    <div class="h-48 bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center">
                        <span class="text-6xl">ðŸ“¦</span>
                    </div>
                    
                    <!-- Product Info -->
                    <div class="p-4">
                        <h3 class="font-bold text-lg mb-2 truncate">{{ product.name }}</h3>
                        <p class="text-gray-600 text-sm mb-3 h-12 overflow-hidden">{{ product.description[:80] }}...</p>
                        
                        <div class="flex items-center justify-between">
                            <span class="text-2xl font-bold text-blue-600">${{ "%.2f"|format(product.price) }}</span>
                            <span class="text-xs text-gray-500">{{ product.category }}</span>
                        </div>
                        
                        <a href="{{ url_for('product_detail', product_id=product.id) }}" 
                           class="mt-4 block w-full bg-blue-600 text-white text-center py-2 rounded hover:bg-blue-700 transition">
                            View Details
                        </a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="text-center py-12 bg-white rounded-lg">
            <p class="text-gray-500 text-lg">No products available yet.</p>
            <p class="text-sm text-gray-400 mt-2">Run the seed script to populate the database.</p>
        </div>
    {% endif %}
</div>

<!-- Features Section -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-12">
    <div class="bg-white p-6 rounded-lg shadow-md text-center">
        <div class="text-4xl mb-4">ðŸ”“</div>
        <h3 class="font-bold text-lg mb-2">SQL Injection</h3>
        <p class="text-gray-600 text-sm">Test your skills with vulnerable search functionality</p>
    </div>
    
    <div class="bg-white p-6 rounded-lg shadow-md text-center">
        <div class="text-4xl mb-4">ðŸ’‰</div>
        <h3 class="font-bold text-lg mb-2">XSS Vulnerabilities</h3>
        <p class="text-gray-600 text-sm">Product reviews store unsanitized input</p>
    </div>
    
    <div class="bg-white p-6 rounded-lg shadow-md text-center">
        <div class="text-4xl mb-4">ðŸ”‘</div>
        <h3 class="font-bold text-lg mb-2">IDOR & More</h3>
        <p class="text-gray-600 text-sm">Broken access control in orders and cart</p>
    </div>
</div>

<!-- Quick Start -->
{% if not current_user.is_authenticated %}
<div class="mt-12 bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded">
    <h3 class="font-bold text-lg mb-2">ðŸš€ Quick Start</h3>
    <p class="text-gray-700 mb-4">Test the vulnerabilities with these default credentials:</p>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        <div class="bg-white p-4 rounded border">
            <p class="font-semibold">Admin Account</p>
            <p class="text-sm text-gray-600">Username: <code class="bg-gray-100 px-2 py-1 rounded">admin</code></p>
            <p class="text-sm text-gray-600">Password: <code class="bg-gray-100 px-2 py-1 rounded">admin123</code></p>
        </div>
        <div class="bg-white p-4 rounded border">
            <p class="font-semibold">Regular User</p>
            <p class="text-sm text-gray-600">Username: <code class="bg-gray-100 px-2 py-1 rounded">user</code></p>
            <p class="text-sm text-gray-600">Password: <code class="bg-gray-100 px-2 py-1 rounded">password</code></p>
        </div>
    </div>
</div>
{% endif %}

{% endblock %}